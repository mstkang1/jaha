<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js'></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="/js/jaha.js"></script>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=l2o6xz5abj"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="css/jaha.css">
    <title>자하생력</title>
</head>
<body>
<header id="headerMenu">
    <nav>
        <h1><a href="/index"><span class="hide">자하생력 로고</span></a></h1>
        <ul>
            <li class="menu1"><a href="/index#story1">태반 이야기</a></li>
            <li class="menu2"><a href="/index#product">자하생력액 이야기</a></li>
            <li class="menu3"><a href="/index#qna">Q&amp;A</a></li>
        </ul>
        <p><a href="/store">약국찾기</a></p>
        <!-- <button class="scroll-stop">스크롤 고정</button>
        <button class="scroll-play">스크롤 해제</button> -->
    </nav>
</header>
<div class="hamberger-btn">
    <button>메뉴터치</button>
</div>
<div class="pharmacy-wrap">
    <h2>주변 약국 찾기</h2>
    <div class="pharmacy">
        <form>
            <div class="select-wrap">
                <select name="brand" id="brand">
                    <option value="">브랜드</option>
                    <option value="">자하생력</option>
                    <option value="">미놀</option>
                    <option value="">피엠</option>
                </select>
                <select name="product" id="product">
                    <option value="">제품</option>
                    <option value="">플라젠시아주</option>
                    <option value="">자하생력액</option>
                    <option value="">자하거엑스</option>
                </select>
            </div>
            <div class="location-wrap">
                <div class="location">
                    <button>내 집 근처 찾기</button>
                    <button>주소로 찾기</button>
                </div>
                <div class="distance">
                    <button>1km</button>
                    <button>3km</button>
                    <button>5km</button>
                </div>
                <div class="juso">
                    <input type="text" value="상세주소" readonly>
                    <button>1km</button>
                    <button>3km</button>
                    <button>5km</button>
                </div>
            </div>
        </form>
        <div id="map"></div> <!-- 디자인상에는 숨겨져 있습니다. -->
    </div>


    <script type="text/javascript">
        var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(37.3595704, 127.105399),
            zoom: 15,
            minZoom: 7,
            zoomControl: true,
            zoomControlOptions: {
                position: naver.maps.Position.TOP_RIGHT
            },
            mapTypeId: naver.maps.MapTypeId.NORMAL
        });
        var infowindow = new naver.maps.InfoWindow();

        function onSuccessGeolocation(position) {
            var location = new naver.maps.LatLng(position.coords.latitude,
                position.coords.longitude);
            map.setCenter(location); // 얻은 좌표를 지도의 중심으로 설정합니다.
            map.setZoom(15); // 지도의 줌 레벨을 변경합니다.
             infowindow.setContent('<div style="padding:20px;">' + 'geolocation.getCurrentPosition() 위치' + '</div>');
             infowindow.open(map, location);
             console.log('Coordinates: ' + location.toString());
            var marker = new naver.maps.Marker({
                position: new naver.maps.LatLng(position.coords.latitude, position.coords.longitude),
                map: map
            });
        }

        function onErrorGeolocation() {
            var center = map.getCenter();
            // infowindow.setContent('<div style="padding:20px;">' +
            //     '<h5 style="margin-bottom:5px;color:#f00;">Geolocation failed!</h5>'+ "latitude: "+ center.lat() +"<br />longitude: "+ center.lng() +'</div>');
            // infowindow.open(map, center);
        }

        $(window).on("load", function() {
            // 네이버 현위치 지도 호출
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(onSuccessGeolocation, onErrorGeolocation);
            } else {
                var center = map.getCenter();
                // infowindow.setContent('<div style="padding:20px;"><h5 style="margin-bottom:5px;color:#f00;">Geolocation not supported</h5></div>');
                // infowindow.open(map, center);
            }

            // 내 집 근처 찾기, 주소로 찾기 버튼 활성화
            $('.location, .distance').on('click', function() {
                $(this).addClass('on');
                $(this).siblings().removeClass('on');
            });
        });
    </script>
</div>
</body>
</html>